"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.migrateMixins = void 0;
const MAPPING = {
    createStackingContext: ['isolation: isolate'],
    'scroll-behavior': ['scroll-behavior: var(--tui-scroll-behavior)'],
};
function migrateMixins(fileContent) {
    if (!fileContent.includes('@taiga-ui/core/styles/taiga-ui-local')) {
        return fileContent;
    }
    return Object.keys(MAPPING).reduce((file, outdatedMixin) => {
        const MIXIN_RE = new RegExp(String.raw `(?:@include\s|\.)(${outdatedMixin})\(\)(\s?!important)?;`, 'g');
        return file.replaceAll(MIXIN_RE, (_, mixinName, important = '') => `${MAPPING[mixinName].map((newValue) => `${newValue}${important};`).join('\n')}`);
    }, fileContent);
}
exports.migrateMixins = migrateMixins;
