import{a as Ct,b as St,c as Re,d as wt,e as xt,f as kt}from"./chunk-SOEFE5JO.js";import{a as Mt,b as Tt}from"./chunk-BMNLE6TP.js";import{Aa as Ie,Ba as yt,Ca as bt,Da as vt,J as pt,K as ae,N as ut,P as dt,W as ft,_ as gt,b as le,d as at,f as st,g as ct,h as D,j as A,oa as se,q as mt,ra as ht,xa as _t,ya as $,za as ce}from"./chunk-E3YX55QK.js";import{$a as Le,Aa as V,Ab as Se,Bb as p,Bc as K,Ca as Ne,Cb as f,Da as j,Db as w,Eb as Je,Fb as Ze,Fc as y,Hb as ie,Kb as E,Lb as C,Mb as Xe,Nb as Ye,Ob as we,Qb as xe,Ra as We,Rb as ke,Sa as c,Tb as oe,Ub as re,V as Ve,Vb as et,Wb as x,Xb as tt,Yb as I,Z as ee,_ as Pe,_a as ze,a as s,b,bc as N,cc as Me,da as _,eb as T,fb as Qe,hb as Ue,hc as Te,ib as qe,ja as Oe,jc as k,kb as F,kc as R,la as G,lc as nt,ma as H,mc as it,nc as ot,oa as ye,p as Y,qa as P,ra as be,rb as d,sc as rt,ub as te,vb as Ke,wb as ne,wc as lt,xb as ve,yc as Fe,za as O,zb as Ce,zc as M}from"./chunk-WXNJR4UN.js";A();y();ht();A();A();y();y();var Gt=["icon"],Ht=["*"];function Vt(n,t){if(n&1&&w(0,"span",4),n&2){let e=C(2);d("ngClass",e.icon)}}function Pt(n,t){if(n&1&&(Je(0),F(1,Vt,1,1,"span",3),Ze()),n&2){let e=C();c(),d("ngIf",e.icon)}}function Ot(n,t){}function Nt(n,t){n&1&&F(0,Ot,0,0,"ng-template")}function Wt(n,t){if(n&1&&(p(0,"span",5),F(1,Nt,1,0,null,6),f()),n&2){let e=C();c(),d("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)}}var zt=({dt:n})=>`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: ${n("tag.primary.background")};
    color: ${n("tag.primary.color")};
    font-size: ${n("tag.font.size")};
    font-weight: ${n("tag.font.weight")};
    padding: ${n("tag.padding")};
    border-radius: ${n("tag.border.radius")};
    gap: ${n("tag.gap")};
}

.p-tag-icon {
    font-size: ${n("tag.icon.size")};
    width: ${n("tag.icon.size")};
    height:${n("tag.icon.size")};
}

.p-tag-rounded {
    border-radius: ${n("tag.rounded.border.radius")};
}

.p-tag-success {
    background: ${n("tag.success.background")};
    color: ${n("tag.success.color")};
}

.p-tag-info {
    background: ${n("tag.info.background")};
    color: ${n("tag.info.color")};
}

.p-tag-warn {
    background: ${n("tag.warn.background")};
    color: ${n("tag.warn.color")};
}

.p-tag-danger {
    background: ${n("tag.danger.background")};
    color: ${n("tag.danger.color")};
}

.p-tag-secondary {
    background: ${n("tag.secondary.background")};
    color: ${n("tag.secondary.color")};
}

.p-tag-contrast {
    background: ${n("tag.contrast.background")};
    color: ${n("tag.contrast.color")};
}
`,Lt={root:({props:n})=>["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warn":n.severity==="warn","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}],icon:"p-tag-icon",label:"p-tag-label"},Ft=(()=>{class n extends ut{name="tag";theme=zt;classes=Lt;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ye(n)))(o||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();var Qt=(()=>{class n extends dt{get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;iconTemplate;templates;_iconTemplate;_style;_componentStyle=_(Ft);ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"icon":this._iconTemplate=e.template;break}})}containerClass(){let e="p-tag p-component";return this.severity&&(e+=` p-tag-${this.severity}`),this.rounded&&(e+=" p-tag-rounded"),this.styleClass&&(e+=` ${this.styleClass}`),e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ye(n)))(o||n)}})();static \u0275cmp=T({type:n,selectors:[["p-tag"]],contentQueries:function(i,o,r){if(i&1&&(we(r,Gt,4),we(r,pt,4)),i&2){let l;xe(l=ke())&&(o.iconTemplate=l.first),xe(l=ke())&&(o.templates=l)}},hostVars:4,hostBindings:function(i,o){i&2&&(te(o.style),Ke(o.containerClass()))},inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",lt]},features:[N([Ft]),qe],ngContentSelectors:Ht,decls:5,vars:3,consts:[[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-label"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(i,o){i&1&&(Xe(),Ye(0),F(1,Pt,2,1,"ng-container",0)(2,Wt,2,1,"span",1),p(3,"span",2),x(4),f()),i&2&&(c(),d("ngIf",!o.iconTemplate&&!o._iconTemplate),c(),d("ngIf",o.iconTemplate||o._iconTemplate),c(2),tt(o.value))},dependencies:[D,le,at,st,ae],encapsulation:2,changeDetection:0})}return n})(),Rt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Qe({type:n});static \u0275inj=Pe({imports:[Qt,ae,ae]})}return n})();y();var me=class n{transform(t,e,i){let o,r,l,a;return e==="ms"&&i==="hhmmss"?(r=Math.floor(t/1e3%60),l=Math.floor(t/(1e3*60)%60),a=Math.floor(t/(1e3*60*60)),this.format(i,r,l,a,o)):e==="s"&&i==="hhmmss"?(r=Math.floor(t%60),l=Math.floor(t/60%60),a=Math.floor(t/60/60),this.format(i,r,l,a,o)):e==="ms"&&(i==="ddhhmmss"||i==="ddhhmmssLong")?(r=Math.floor(t/1e3%60),l=Math.floor(t/(1e3*60)%60),a=Math.floor(t/(1e3*60*60)%24),o=Math.floor(t/(1e3*60*60*24)),this.format(i,r,l,a,o)):e==="s"&&(i==="ddhhmmss"||i==="ddhhmmssLong")?(r=Math.floor(t%60),l=Math.floor(t/60%60),a=Math.floor(t/60/60%24),o=Math.floor(t/60/60/24),this.format(i,r,l,a,o)):t}format(t,e,i,o,r){switch(r<10&&(r="0"+r),o<10&&(o="0"+o),i<10&&(i="0"+i),e<10&&(e="0"+e),t){case"hhmmss":return`${o}:${i}:${e}`;case"ddhhmmss":return`${r}d, ${o}h, ${i}m, ${e}s`;case"ddhhmmssLong":return`${r} days, ${o} hours, ${i} minutes, ${e} seconds`;default:return""}}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=Ue({name:"durationFormat",type:n,pure:!1})};A();y();y();var pe=class n{label=V();value=V();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["digital-display"]],inputs:{label:[1,"label"],value:[1,"value"]},decls:5,vars:2,consts:[[1,"inline-flex","w-full","justify-between"],[1,"lcd","text-2xl"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"span"),x(2),f(),p(3,"span",1),x(4),f()()),e&2&&(c(2),I(" ",i.label(),": "),c(2),I(" ",i.value()," "))},dependencies:[D],encapsulation:2})};A();y();ht();y();y();function Dt(n){let t=Fe(()=>n());return qt(t)?new Proxy(n,{get(e,i){return i in t?(Ne(e[i])||Object.defineProperty(e,i,{value:M(()=>e()[i]),configurable:!0}),Dt(e[i])):e[i]}}):n}var Ut=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function qt(n){if(n===null||typeof n!="object"||Kt(n))return!1;let t=Object.getPrototypeOf(n);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(Ut.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function Kt(n){return typeof n?.[Symbol.iterator]=="function"}var $e=new WeakMap,h=Symbol("STATE_SOURCE");function S(n,...t){n[h].update(e=>t.reduce((i,o)=>s(s({},i),typeof o=="function"?o(i):o),e)),Jt(n)}function B(n){return n[h]()}function Be(n,t,e){e?.injector||Oe(Be);let o=(e?.injector??_(P)).get(be);Zt(n,t),t(B(n));let r=()=>Xt(n,t);return o.onDestroy(r),{destroy:r}}function Ee(n){return $e.get(n[h])||[]}function Jt(n){let t=Ee(n);for(let e of t){let i=Fe(()=>B(n));e(i)}}function Zt(n,t){let e=Ee(n);$e.set(n[h],[...e,t])}function Xt(n,t){let e=Ee(n);$e.set(n[h],e.filter(i=>i!==t))}function ue(...n){let t=[...n],e=typeof t[0]=="function"?{}:t.shift(),i=t;return(()=>{class r{constructor(){let a=i.reduce((X,At)=>At(X),Yt()),{stateSignals:m,props:u,methods:g,hooks:v}=a,Z=s(s(s({},m),u),g);this[h]=a[h];for(let X of Reflect.ownKeys(Z))this[X]=Z[X];let{onInit:Ge,onDestroy:He}=v;Ge&&Ge(),He&&_(be).onDestroy(He)}static \u0275fac=function(m){return new(m||r)};static \u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:e.providedIn||null})}return r})()}function Yt(){return{[h]:j({}),stateSignals:{},props:{},methods:{},hooks:{}}}function de(n,...t){let e=typeof n=="function"?[n,...t]:t;return i=>e.reduce((o,r)=>r(o),i)}function z(n){return t=>{let e=n(s(s(s({[h]:t[h]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(e),b(s({},t),{props:s(s({},t.props),e)})}}function fe(n){return t=>{let e=s(s(s({[h]:t[h]},t.stateSignals),t.props),t.methods),i=typeof n=="function"?n(e):n,o=r=>{let l=i[r],a=t.hooks[r];return l?()=>{a&&a(),l(e)}:a};return b(s({},t),{hooks:{onInit:o("onInit"),onDestroy:o("onDestroy")}})}}function L(n){return t=>{let e=n(s(s(s({[h]:t[h]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(e),b(s({},t),{methods:s(s({},t.methods),e)})}}function Q(n){return t=>{let e=typeof n=="function"?n():n,i=Reflect.ownKeys(e);t[h].update(r=>s(s({},r),e));let o=i.reduce((r,l)=>{let a=M(()=>t[h]()[l]);return b(s({},r),{[l]:Dt(a)})},{});return b(s({},t),{stateSignals:s(s({},t.stateSignals),o)})}}A();y();var $t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Bt=(n=21)=>{let t="",e=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)t+=$t[e[n]&63];return t};y();Ve();function ge(n){return de(z(t=>({state$:new Y(s({},n))})),fe({onInit(t,e=_(P)){K(()=>t.state$.next(B(t)))}}))}var J={val:0,isMine:!1,isHidden:!0,isFlagged:!1},je=ue(Q(s({},J)),ge(J),L(n=>({reset:()=>S(n,t=>s({},J)),setState:t=>S(n,e=>s({},t)),incrementVal:()=>S(n,t=>b(s({},t),{val:t.val+1})),setVal:t=>{t??=n.val(),n.isMine()&&(t=0),S(n,e=>b(s({},e),{val:t}))},toggleMine:t=>{t??=!n.isMine(),S(n,e=>b(s({},e),{val:0,isFlagged:!1,isHidden:t,isMine:t}))},toggleHidden:t=>{t??=!n.isHidden(),!(!t&&n.isFlagged())&&S(n,e=>b(s({},e),{isHidden:t}))},toggleFlag:t=>{t??=!n.isFlagged(),n.isHidden()&&S(n,e=>b(s({},e),{isFlagged:t}))},solveSelf(){n.isMine()?this.toggleFlag(!0):(this.toggleFlag(!1),this.toggleHidden(!1))}})));y();A();var en=(n,t,e,i,o,r,l,a)=>({"bg-blue-400/20":n,"bg-green-400/20":t,"bg-red-400/20":e,"bg-purple-400/20":i,"bg-amber-800/20":o,"bg-sky-300/20":r,"bg-indigo-700/20":l,"bg-gray-400/20":a}),tn=(n,t,e,i,o,r,l,a)=>({"text-blue-400":n,"text-green-400":t,"text-red-400":e,"text-purple-400":i,"text-amber-800":o,"text-sky-300":r,"text-indigo-700":l,"text-gray-400":a});function nn(n,t){n&1&&w(0,"i",5)(1,"i",6)}function on(n,t){if(n&1&&(p(0,"div",4)(1,"div",7)(2,"span",8),x(3),f()()()),n&2){let e=C();c(),d("ngClass",Te(3,en,e.cellStore.val()==1,e.cellStore.val()==2,e.cellStore.val()==3,e.cellStore.val()==4,e.cellStore.val()==5,e.cellStore.val()==6,e.cellStore.val()==7,e.cellStore.val()==8)),c(),d("ngClass",Te(12,tn,e.cellStore.val()==1,e.cellStore.val()==2,e.cellStore.val()==3,e.cellStore.val()==4,e.cellStore.val()==5,e.cellStore.val()==6,e.cellStore.val()==7,e.cellStore.val()==8)),c(),I(" ",e.cellStore.val()," ")}}var U=class n{#e=_(P);internalId=Bt();cellStore=_(je);_isBusy=j(!1);ngOnInit(){this.cellStore.state$.pipe(bt(s({},J)),vt(this.#e)).subscribe(({oldVal:t,newVal:e})=>{this._isBusy()||this._handleAnimation(t,e)})}onCellClick=()=>this.onClick.emit();onCellRightClick=t=>{t?.preventDefault(),this.onRightClick.emit()};onClick=O();onRightClick=O();state=M(()=>B(this.cellStore));onStateChange=t=>Be(this.cellStore,t);reset=this.cellStore.reset;setVal=this.cellStore.setVal;incrementVal=this.cellStore.incrementVal;toggleHidden=this.cellStore.toggleHidden;toggleFlag=this.cellStore.toggleFlag;toggleMine=this.cellStore.toggleMine;solveSelf=this.cellStore.solveSelf;_handleAnimation=(t,e)=>{t?.isHidden!=e?.isHidden&&!e?.isFlagged&&this._animateShowCell(e?.isHidden),t?.isFlagged!=e?.isFlagged&&this._animateFlag(e?.isFlagged)};_animateShowCell(t=!0){let e={scale:[t?{to:1,ease:"outExpo",duration:0}:{from:1,to:0,ease:"outExpo",duration:500}],ease:"inOutCirc"};this._animate("#front-layer-"+this.internalId,e)}_animateFlag(t=!0){let e={scale:[t?{from:0,to:1,ease:"outExpo",duration:200}:{from:1,to:0,ease:"outExpo",duration:200}],ease:"inOutCirc"};this._animate("#flag-"+this.internalId,e)}_animate(t,e){this._isBusy.set(!0),wt(t,b(s({},e),{onComplete:i=>{this._isBusy.set(!1),e.onComplete?.(i)}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["cell"]],outputs:{onClick:"onClick",onRightClick:"onRightClick"},features:[N([je])],decls:6,vars:3,consts:[[1,"flex","items-center","justify-center","w-10","min-w-fit","aspect-square","bg-form-field-background","outline-1","outline-content-border-color","text-content-border-color","font-bold",3,"click","contextmenu"],[1,"absolute","w-full","aspect-square","flex","items-center","justify-center","bg-content-hover-background","z-10","overflow-hidden",3,"id"],[1,"flex","items-center","justify-center","w-full","h-full","bg-yellow-500/50",2,"transform","scale(0)",3,"id"],[1,"text-xl","text-amber-400","pi","pi-flag-fill"],[1,"w-full","h-full"],[1,"absolute","pi","pi-circle-fill"],[1,"!text-xl","pi","pi-star-fill"],[1,"w-full","h-full","flex","items-center","justify-center",3,"ngClass"],[3,"ngClass"]],template:function(e,i){e&1&&(p(0,"div",0),E("click",function(){return i.onCellClick()})("contextmenu",function(r){return i.onCellRightClick(r)}),p(1,"div",1)(2,"div",2),w(3,"i",3),f()(),F(4,nn,2,0)(5,on,4,21,"div",4),f()),e&2&&(c(),d("id","front-layer-"+i.internalId),c(),d("id","flag-"+i.internalId),c(2),ne(i.cellStore.isMine()?4:i.cellStore.val()>0?5:-1))},dependencies:[D,le],encapsulation:2})};y();Ve();function Et(){return de(Q({time:0}),z(n=>({_timer:Re()})),L(n=>({pauseTimer:()=>n._timer.pause(),resumeTimer:()=>n._timer.resume(),restartTimer(){n._timer.cancel(),n._timer=Re({onUpdate:t=>this.updateTime(t.currentTime)})},cancelTimer:()=>n._timer.cancel(),updateTime(t){S(n,e=>({time:t}))}})))}var he={time:0,score:0,leftClicks:0,rightClicks:0,result:"inProgress",threeBV:{value:0,score:0}},Ae=ue(Q(s({},he)),ge(he),Et(),z(n=>({state$:new Y(s({},he))})),fe({onInit(n){K(()=>n.state$.next(B(n)))}}),L(n=>({reset:()=>S(n,t=>s({},he)),setState:t=>S(n,e=>s({},t))})));y();var jt=()=>[];function rn(n,t){if(n&1){let e=ie();p(0,"div",3)(1,"cell",4),E("onClick",function(){let o=G(e).$index,r=C().$index,l=C();return H(l.onCellClick(r,o))})("onRightClick",function(){let o=G(e).$index,r=C().$index,l=C();return H(l.onFlagCell(r,o))}),f()()}if(n&2){let e=t.$index,i=C().$index;c(),d("id",`${i}-${e}`)}}function ln(n,t){if(n&1&&Ce(0,rn,2,1,"div",3,ve),n&2){let e=C();Se(Me(0,jt).constructor(e.yn()))}}var q=class n{sweeperStore=_(Ae);xn=V(25);yn=V(25);mines=V(15);onWin=O();onGameOver=O();state=M(()=>B(this.sweeperStore));reset=()=>this._onReset();autoSolve=()=>this._autoSolve();__cR=Le(U);_cellRefs=M(()=>_t(this.__cR(),this.yn()));_cellStates=M(()=>ce(this._cellRefs(),t=>ce(t,e=>e.state())));_cellLength=M(()=>this.xn()*this.yn());isBusy=j(!1);gameFinished=j(!1);_won=j(!1);ngAfterViewInit(){this._initGame()}ngAfterViewChecked(){this.isBusy()||this._checkGameState()}onCellClick(t,e){if(this.gameFinished())return;let i=this._cellStates()[t][e];!i||!i.isHidden||(this.sweeperStore.setState({leftClicks:this.state().leftClicks+1}),this._onLeftClick(t,e))}_onLeftClick(t,e){let i=this._cellRefs()[t][e];if(i.toggleHidden(!1),i.state().val!=0||i.state().isMine)return;let o=kt(50,{grid:[this.yn(),this.xn()],from:this._getFlatIndex(t,e)});this._floodFill(t,e,(r,l)=>{let a=this._cellRefs()[r][l],m=this._getFlatIndex(r,l),u=o(a,m,this._cellLength());setTimeout(()=>a.toggleHidden(!1),u)},(r,l)=>this._cellRefs()[r][l].state().val!=0)}onFlagCell(t,e){this.gameFinished()||!this._cellStates()[t][e].isHidden||(this.sweeperStore.setState({rightClicks:this.state().rightClicks+1}),this._cellRefs()[t][e].toggleFlag())}_initGame(){this.sweeperStore.restartTimer(),this.gameFinished.set(!1),this._won.set(!1),this._forEachCell((e,i,o)=>this._cellRefs()[i][o].reset());let t=this.mines()>this._cellLength()?this._cellLength():this.mines();$([].constructor(t),e=>{let i=0,o=0,r=!1;do r=!1,i=Ie(this.xn()-1),o=Ie(this.yn()-1),this._cellStates()[i][o].isMine&&(r=!0);while(r);this._cellRefs()[i][o].toggleMine(!0),this._forEachAround(i,o,(l,a,m)=>this._cellRefs()[a][m].setVal(this._cellStates()[a][m].val+1))}),this.sweeperStore.reset(),this.sweeperStore.setState({threeBV:{value:this._get3BV(),score:0}})}_onReset=()=>{this.isBusy()||this._initGame()};_autoSolve(){this.isBusy.set(!0);let t=xt(),e=0;this._forEachCell((i,o,r)=>{t=t.call(()=>this._cellRefs()[o][r].solveSelf(),e),e+=5}),t=t.call(()=>this.isBusy.set(!1),e+300)}_checkGameState(){if(this.gameFinished())return;let t=!1,e=!0,i=!1;if(this._forEachCell(o=>{if(!o.isMine&&o.isHidden)return t=!0,!1;if(o.isMine){if(!o.isHidden)return i=!0,!1;if(!o.isFlagged)return e=!1,!1}}),i){this._onGameOver();return}if(!t||e){this._onWin();return}}_onWin(){this.gameFinished.set(!0),this._won.set(!0),this._autoSolve(),this.sweeperStore.pauseTimer(),this.sweeperStore.setState({result:"win",threeBV:{value:this.sweeperStore.threeBV.value(),score:this.sweeperStore.threeBV.value()/(this.sweeperStore.time()/1e3)}}),this.sweeperStore.cancelTimer(),this.onWin.emit()}_onGameOver(){this.gameFinished.set(!0),this.sweeperStore.pauseTimer(),this.sweeperStore.setState({result:"lose"}),this.onGameOver.emit()}_getFlatIndex=(t,e)=>t*this.xn()+e;_get3BV(){let t=0,e=[].constructor(this.xn()).fill(null).map(o=>[].constructor(this.yn()).fill(!1)),i=(o,r)=>{e[o][r]||(e[o][r]=!0,this._cellStates()[o][r].val==0&&this._forEachAround(o,r,(l,a,m)=>i(a,m)))};return $(e,(o,r)=>{$(o,(l,a)=>{if(l)return;let m=this._cellStates()[r][a];m.val!=0||m.isMine||(e[r][a]=!0,t+=1,this._forEachAround(r,a,(u,g,v)=>i(g,v)))})}),$(e,(o,r)=>{$(o,(l,a)=>{let m=this._cellStates()[r][a];!l&&!m.isMine&&(t+=1)})}),t}_floodFill(t,e,i,o){let r=[].constructor(this.xn()).fill(null).map(a=>[].constructor(this.yn()).fill(!1));r[t][e]=!0;let l=(a,m)=>{r[a][m]||(r[a][m]=!0,i(a,m),!o(a,m)&&this._forEachAround(a,m,(u,g,v)=>l(g,v)))};return this._forEachAround(t,e,(a,m,u)=>l(m,u)),r}_forEachCell=(t,e)=>$(this._cellStates(),(i,o)=>{$(i,(r,l)=>{e&&!e(r,o,l)||t(r,o,l)})});_forEachAround=(t,e,i,o)=>{let r=(u,g)=>u<0?0:u>=g?g-1:u,l=(u,g)=>yt(ce([u-1,u,u+1],v=>r(v,g))),a=l(t,this.xn()),m=l(e,this.yn());$(a,u=>$(m,g=>{let v=this._cellStates()[u][g];o&&!o(v,u,g)||u==t&&g==e||i(v,u,g)}))};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["sweeper-grid"]],viewQuery:function(e,i){e&1&&oe(i.__cR,U,5),e&2&&re()},inputs:{xn:[1,"xn"],yn:[1,"yn"],mines:[1,"mines"]},outputs:{onWin:"onWin",onGameOver:"onGameOver"},features:[N([Ae])],decls:5,vars:3,consts:[[1,"flex","flex-col","items-center","gap-8"],[1,"flex","min-w-fit","w-fit","mx-auto"],["id","game-grid",1,"grid","min-w-fit","border-4","border-toolbar-border-color","rounded-sm"],[1,"min-w-fit","relative","outline-1","outline-content-border-color","z-10"],[1,"min-w-fit",3,"onClick","onRightClick","id"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),Ce(3,ln,2,1,null,null,ve),f()()()),e&2&&(c(2),te(`
        grid-template-rows: repeat(${i.xn()}, minmax(0, 1fr));
        grid-template-columns: repeat(${i.yn()}, minmax(0, 1fr));
      `),c(),Se(Me(2,jt).constructor(i.xn())))},dependencies:[D,se,U],encapsulation:2})};y();A();function an(n,t){n&1&&(p(0,"h1",19),x(1),k(2,"translate"),f()),n&2&&(c(),I(" ",R(2,1,"game.title")," "))}function sn(n,t){n&1&&(p(0,"p-message",10),x(1),k(2,"translate"),f()),n&2&&(c(),I(" ",R(2,1,"game.result.win")," \u{1F389} "))}function cn(n,t){n&1&&(p(0,"p-message",11),x(1),k(2,"translate"),f()),n&2&&(c(),I(" ",R(2,1,"game.result.lose")," \u2639\uFE0F "))}var _e=class n{_router=_(mt);Math=Math;changeDetectorRef=_(rt);onVisibilityChange(t){document.hidden||(this.changeDetectorRef.reattach(),this.changeDetectorRef.detectChanges())}_gridRef=ze(q);gameState=M(()=>this._gridRef()?.state());xn=12;yn=12;mines=20;onAutoSolve(){this._gridRef()?.autoSolve()}onReset(){this._gridRef()?.reset()}onBackHome(){this._router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["game"]],viewQuery:function(e,i){e&1&&oe(i._gridRef,q,5),e&2&&re()},hostBindings:function(e,i){e&1&&E("visibilitychange",function(r){return i.onVisibilityChange(r)},!1,We)},decls:31,vars:38,consts:[["header",""],["sweeperGrid",""],[3,"target","blocked","showLoading"],["styleClass",`
    mx-auto mt-4
    border-4 bg-content-background border-toolbar-border-color 
    lg:max-w-screen-lg
  `],[1,"flex","flex-col","justify-between","items-center","w-full","h-full","lg:flex-row","lg:items-start"],[1,"flex","flex-col","h-full","w-full","m-4"],[3,"label","value"],["label","3BV/s",3,"value"],[1,"text-sm","text-muted-color"],[1,"flex","w-full","justify-center"],["size","small"],["size","small","severity","error"],[1,"self-end","inline-flex","justify-center","w-full","gap-4","mt-4"],["size","small",3,"onClick","label","disabled"],["size","small",1,"ml-4",3,"onClick","label"],[1,"block","w-fit","h-fit","min-w-fit","min-h-fit","mx-auto","p-2"],[3,"xn","yn","mines"],[1,"flex","justify-center","mt-4"],["size","small","severity","secondary",3,"onClick","label"],[1,"mt-4","mb-0","text-center","text-xl","font-bold"]],template:function(e,i){if(e&1){let o=ie();w(0,"cz-ui-blocker",2),p(1,"p-card",3),F(2,an,3,3,"ng-template",null,0,ot),p(4,"div",4)(5,"div",5),w(6,"digital-display",6),k(7,"translate"),k(8,"durationFormat"),w(9,"digital-display",6),k(10,"translate"),w(11,"digital-display",6),k(12,"translate"),w(13,"digital-display",7),k(14,"number"),p(15,"span",8),x(16),f(),p(17,"div",9),F(18,sn,3,3,"p-message",10)(19,cn,3,3,"p-message",11),f(),p(20,"div",12)(21,"p-button",13),k(22,"translate"),E("onClick",function(){return G(o),H(i.onAutoSolve())}),f(),p(23,"p-button",14),k(24,"translate"),E("onClick",function(){return G(o),H(i.onReset())}),f()()(),p(25,"blockable-div",15,1),w(27,"sweeper-grid",16),f()()(),p(28,"div",17)(29,"p-button",18),k(30,"translate"),E("onClick",function(){return G(o),H(i.onBackHome())}),f()()}if(e&2){let o,r,l,a,m,u,g,v,Z=et(26);d("target",Z)("blocked",((o=i.gameState())==null?null:o.result)!="inProgress")("showLoading",!1),c(6),d("label",R(7,19,"game.time"))("value",it(8,21,(r=i.gameState())==null?null:r.time,"ms","hhmmss")),c(3),d("label",R(10,25,"game.left-clicks"))("value",(l=i.gameState())==null?null:l.leftClicks),c(2),d("label",R(12,27,"game.right-clicks"))("value",(a=i.gameState())==null?null:a.rightClicks),c(2),d("value",(m=nt(14,29,(m=i.gameState())==null||m.threeBV==null?null:m.threeBV.score,"1.1-3"))!==null&&m!==void 0?m:""),c(3),I(" (3BV = ",(u=i.gameState())==null||u.threeBV==null?null:u.threeBV.value,") "),c(2),ne((g=(g=i.gameState())==null?null:g.result)==="win"?18:g==="lose"?19:-1),c(3),d("label",R(22,32,"game.auto-solve"))("disabled",((v=i.gameState())==null?null:v.result)!="inProgress"),c(2),d("label",R(24,34,"game.reset")),c(4),d("xn",i.xn)("yn",i.yn)("mines",i.mines),c(2),d("label",R(30,36,"game.back-home"))}},dependencies:[D,ct,se,me,ft,Tt,gt,Mt,Rt,q,Ct,St,pe],encapsulation:2})};var mn=(t=>(t.Home="",t))(mn||{}),Qi=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:_e},{path:"**",redirectTo:"not-found"}];export{mn as ExampleRoutesEnum,Qi as sectionRoutes};
